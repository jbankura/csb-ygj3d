(this.webpackJsonpreact=this.webpackJsonpreact||[]).push([[0],{17:function(e,a,t){},18:function(e,a,t){"use strict";t.r(a);var r=t(1),n=t(10),s=t.n(n),c=t(2),o=t(5),i=t.n(o),d=t(9),l=t(6),b=t(3),j=t(0),u=function(e){return Object(j.jsxs)("div",{className:"workOrder",onDragStart:function(a){a.dataTransfer.setData("workOrder",JSON.stringify(e)),a.dataTransfer.setData("jobIndex",e.jobIndex),e.isDateTable&&(a.dataTransfer.setData("isDragFromTable",!0),a.dataTransfer.setData("columnIndex",e.columnIndex),a.dataTransfer.setData("rowIndex",e.rowIndex))},draggable:!0,children:[Object(j.jsx)("div",{className:"workOrderName",children:e.name}),Object(j.jsx)("div",{className:"workOrderJob",children:e.job})]})},f=function(e){var a=function(e){e.preventDefault()};return Object(j.jsx)("div",{children:Object(j.jsx)("div",{className:"flex",children:Object(j.jsxs)("div",{className:"tableContainer",children:[Object(j.jsxs)("div",{className:"flex",children:[Object(j.jsx)("div",{className:"dateTableCell noBorder"}),Object(j.jsx)("div",{className:"tableHeader",children:e.dates.map((function(e,a){return Object(j.jsx)("div",{className:"dateTableCell",children:new Date(e).toDateString()},a)}))})]}),e.tableData.map((function(t,r){var n;return Object(j.jsxs)("div",{className:"flex",children:[Object(j.jsx)("div",{className:"dateTableCell dateTableRowName",children:null===(n=e.employeeList[r])||void 0===n?void 0:n.Name}),Object(j.jsx)("div",{className:"dateTableRow ".concat(r===e.employeeList.length-1?"last":""),children:t.map((function(t,n){return Object(j.jsx)("div",{className:"dateTableCell",onDragOver:a,onDrop:function(a){return function(a,t,r){var n=Object(c.a)(e.tableData),s=JSON.parse(a.dataTransfer.getData("workOrder"));if(!n[t][r]){if(n[t][r]=s,a.dataTransfer.getData("isDragFromTable")){var o=a.dataTransfer.getData("rowIndex"),i=a.dataTransfer.getData("columnIndex");n[o][i]=""}else{var d=a.dataTransfer.getData("jobIndex"),l=Object(c.a)(e.workorderList),b=l[d].workorders.findIndex((function(e){return e.name===s.name}));l[d].workorders.splice(b,1),e.setWorkorderList(l)}e.setTableData(n)}}(a,r,n)},children:t&&Object(j.jsx)(u,Object(b.a)(Object(b.a)({},t),{},{rowIndex:r,columnIndex:n,isDateTable:!0}))},n)}))})]},r)}))]})})})},O=(t(17),function(e){var a=function(e){e.preventDefault()},t=function(a){var t=Object(c.a)(e.tableData),r=JSON.parse(a.dataTransfer.getData("workOrder"));if(a.dataTransfer.getData("isDragFromTable")){var n=a.dataTransfer.getData("rowIndex"),s=a.dataTransfer.getData("columnIndex");t[n][s]="";var o=Object(c.a)(e.workorderList),i=o.findIndex((function(e){return e.jobname===r.job}));o[i].workorders.push({name:r.name,Date:r.Date}),e.setWorkorderList(o),e.setTableData(t)}};return Object(j.jsx)("div",{children:e.workorderList.map((function(r,n){var s={};return r.workorders.forEach((function(e){s[new Date(e.Date).toDateString()]=e})),Object(j.jsxs)("div",{className:"flex",onDragOver:a,onDrop:t,children:[Object(j.jsx)("div",{className:"workOrderCell"}),Object(j.jsx)("div",{className:"flex",children:e.dates.map((function(e,a){return Object(j.jsx)("div",{className:"workOrderCell",children:s[new Date(e).toDateString()]&&Object(j.jsx)(u,Object(b.a)(Object(b.a)({},s[new Date(e).toDateString()]),{},{job:r.jobname,jobIndex:n}))},a)}))})]},n)}))})}),m=["2020-04-20","2020-04-21","2020-04-22","2020-04-23","2020-04-24","2020-04-25"];function x(){var e=Object(r.useState)([]),a=Object(l.a)(e,2),t=a[0],n=a[1],s=Object(r.useState)([]),o=Object(l.a)(s,2),b=o[0],u=o[1],x=Object(r.useState)([]),v=Object(l.a)(x,2),D=v[0],h=v[1],p=Object(r.useState)(null),w=Object(l.a)(p,2),g=w[0],k=w[1],T=function(){var e=Object(d.a)(i.a.mark((function e(){var a,t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.jsonbin.io/b/610f7dafd5667e403a3b61d2").then((function(e){return e.json()}));case 2:a=e.sent,t=a.Employess.map((function(e){return m.map((function(){return""}))})),u(t),n(a.Employess);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(d.a)(i.a.mark((function e(){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.jsonbin.io/b/610f9606e1b0604017a8bdbd").then((function(e){return e.json()}));case 2:a=e.sent,h(a.job),k(JSON.parse(JSON.stringify(a.job)));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){T(),N()}),[]);return Object(j.jsxs)("div",{className:"App",children:[Object(j.jsxs)("div",{className:"header",children:[Object(j.jsx)("div",{}),Object(j.jsx)("h3",{children:Object(j.jsx)("u",{children:"WorkOrder Assignment Tool"})}),Object(j.jsx)("div",{className:"saveBtn",onClick:function(){var e=Object(c.a)(g);e.forEach((function(e){e.workorders.forEach((function(e){for(var a=!1,r=0;r<t.length;r++){for(var n=0;n<m.length;n++)if(b[r][n].name===e.name){e.Employee=t[r].Name,e.Date=new Date(m[n]).toISOString(),a=!0;break}if(a)break}}))}));var a={job:e};console.log(a)},children:"Save"})]}),Object(j.jsx)(f,{employeeList:t,dates:m,tableData:b,setTableData:u,workorderList:D,setWorkorderList:h}),Object(j.jsx)(O,{dates:m,tableData:b,setTableData:u,workorderList:D,setWorkorderList:h})]})}var v=document.getElementById("root");s.a.render(Object(j.jsx)(r.StrictMode,{children:Object(j.jsx)(x,{})}),v)}},[[18,1,2]]]);
//# sourceMappingURL=main.01c80ef6.chunk.js.map